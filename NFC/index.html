<!doctype html><html lang=zh-cn><head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#"><meta charset=utf-8><meta name=generator content="Hugo 0.82.0"><meta name=theme-color content="#fff"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no, date=no, address=no, email=no"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><title>iOS14ä¸‹çš„NFCæŠ€æœ¯å®è·µ | Dev - jw</title><link rel=stylesheet href=../css/meme.min.ae509b8259cb6c090411be6371211f6bb00631055ec9b68a994f27bb5f5f5f76.css><script src=../js/meme.min.3a56ecbb4ec7b23a805fc0116d4dac9095813dfd877cd8379675a8bdac538ffe.js></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap" media=print onload="this.media='all'"><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap"></noscript><meta name=author content="Dev - jw"><meta name=description content="NFC_Protocol_Stack å‡ ä¸ªæ–¹é¢ åè®® NFCNDEFReaderSession â€”â€” æ”¯æŒ NDEF æ ¼å¼çš„æ ‡ç­¾ NFCTagReaderSession â€”â€” æ”¯æŒ iso14443ã€iso15693ã€iâ€¦â€¦"><link rel="shortcut icon" href=../favicon.ico type=image/x-icon><link rel=mask-icon href=../icons/safari-pinned-tab.svg color=#2a6df4><link rel=apple-touch-icon sizes=180x180 href=../icons/apple-touch-icon.png><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="Dev - jw"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=mobile-web-app-capable content="yes"><meta name=application-name content="Dev - jw"><meta name=msapplication-starturl content="../"><meta name=msapplication-TileColor content="#fff"><meta name=msapplication-TileImage content="../icons/mstile-150x150.png"><link rel=manifest href=../manifest.json><link rel=canonical href=https://dev.hjw.best/NFC/><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","datePublished":"2021-03-31T14:16:07+08:00","dateModified":"2021-03-31T15:42:56+08:00","url":"https://dev.hjw.best/NFC/","name":"iOS14ä¸‹çš„NFCæŠ€æœ¯å®è·µ","description":"NFC_Protocol_Stack å‡ ä¸ªæ–¹é¢ åè®® NFCNDEFReaderSession â€”â€” æ”¯æŒ NDEF æ ¼å¼çš„æ ‡ç­¾ NFCTagReaderSession â€”â€” æ”¯æŒ iso14443ã€iso15693ã€iâ€¦â€¦","image":"https://dev.hjw.best/favicon.ico","license":"Copyright","publisher":{"@type":"Organization","name":"Dev - jw","logo":{"@type":"ImageObject","url":"https://dev.hjw.best/favicon.ico"},"url":"https://dev.hjw.best/"},"mainEntityOfPage":{"@type":"WebSite","@id":"https://dev.hjw.best/"}}</script><meta name=twitter:card content="summary"><meta property="og:title" content="iOS14ä¸‹çš„NFCæŠ€æœ¯å®è·µ"><meta property="og:description" content="NFC_Protocol_Stack å‡ ä¸ªæ–¹é¢ åè®® NFCNDEFReaderSession â€”â€” æ”¯æŒ NDEF æ ¼å¼çš„æ ‡ç­¾ NFCTagReaderSession â€”â€” æ”¯æŒ iso14443ã€iso15693ã€iâ€¦â€¦"><meta property="og:url" content="https://dev.hjw.best/NFC/"><meta property="og:site_name" content="Dev - jw"><meta property="og:locale" content="zh"><meta property="og:image" content="https://dev.hjw.best/favicon.ico"><meta property="og:type" content="website"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Lato:wght@700&text=reuixiy&display=swap" media=print onload="this.media='all'"><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Lato:wght@700&text=reuixiy&display=swap"></noscript><meta name=baidu-site-verification content="5nzYjT6RG7"></head><body><div class=container><header class=header><div class=header-wrapper><div class="header-inner single"><div class=site-brand><a href=../ class=brand>Dev - jw</a></div><nav class=nav><ul class=menu id=menu><li class=menu-item><a href=../about><span class=menu-item-name>å…³äº</span></a></li><li class=menu-item><a id=theme-switcher href=#><span class="icon theme-icon-light">ğŸŒ</span><span class="icon theme-icon-dark">ğŸŒ™</span></a></li></ul></nav></div></div><input type=checkbox id=nav-toggle aria-hidden=true>
<label for=nav-toggle class=nav-toggle></label><label for=nav-toggle class=nav-curtain></label></header><main class="main single" id=main><div class=main-inner><article class="content post h-entry" data-align=default data-type=posts data-toc-num=true><h1 class="post-title p-name">iOS14ä¸‹çš„NFCæŠ€æœ¯å®è·µ</h1><div class=post-meta><time datetime=2021-03-31T14:16:07+08:00 class="post-meta-item published dt-published"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg>&nbsp;2021-03-31</time></div><div class="post-body e-content"><h3 id=nfc_protocol_stack><a href=#nfc_protocol_stack class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>NFC_Protocol_Stack</h3><p><img src=https://w-md.imzsy.design/NFC_Protocol_Stack.png alt=NFC_Protocol_Stack></p><h3 id=å‡ ä¸ªæ–¹é¢><a href=#å‡ ä¸ªæ–¹é¢ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>å‡ ä¸ªæ–¹é¢</h3><ul><li>åè®®<ul><li><strong>NFCNDEFReaderSession</strong> â€”â€” æ”¯æŒ NDEF æ ¼å¼çš„æ ‡ç­¾</li><li><strong>NFCTagReaderSession</strong> â€”â€” æ”¯æŒ iso14443ã€iso15693ã€iso18092<ul><li>iso14443ï¼ŒåŒæ—¶æ”¯æŒ A å’Œ Bï¼Œå…¼å®¹iso7816 å’Œ miFare</li><li>iso15693ï¼Œæ”¯æŒ iso15693</li><li>iso18092ï¼Œæ”¯æŒ feliCa</li></ul></li></ul></li><li>ä¼˜ç¼ºç‚¹<ul><li>ä¼˜ç‚¹ï¼š<ul><li>åŠŸè€—ä½</li><li>è¿æ¥é€Ÿåº¦å¿«</li></ul></li><li>ç¼ºç‚¹ï¼š<ul><li>å¿…é¡»æ‰“å¼€ Appï¼Œå”¤èµ· NFC æ‰«ææ‰èƒ½å»è¯†åˆ«å†…å®¹ï¼Œä»…é€šè¿‡ç³»ç»Ÿçš„è¯†åˆ«ï¼Œæ— æ³•æ ¹æ® NFC æ ‡ç­¾ä¸­çš„å†…å®¹å»æ‰§è¡Œåç»­çš„æ“ä½œ</li><li>ç”±äº NFC æ ‡ç­¾ä¸ä¾èµ–äºç½‘ç»œï¼Œå¤–äººè½»æ˜“åœ°è·å– NFC ä¸­çš„å†…å®¹</li></ul></li></ul></li></ul><h3 id=ndefè¯¦è§£><a href=#ndefè¯¦è§£ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>NDEFè¯¦è§£</h3><p>NDEF æ˜¯ä¸€ç§èƒ½å¤Ÿåœ¨NFCè®¾å¤‡æˆ–è€…æ ‡ç­¾ä¹‹é—´è¿›è¡Œä¿¡æ¯äº¤æ¢çš„æ•°æ®æ ¼å¼</p><p>åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p><ul><li><p>NDEF Messageï¼šç”±è´Ÿè½½è®°å½•æ•°ç»„ç»„æˆçš„NDEFæ¶ˆæ¯ï¼Œå¯¹åº”ä¸º <code>NFCNDEFMessage</code></p></li><li><p>NDEF Recordsï¼šNDEFæ¶ˆæ¯ä¸­çš„æœ‰æ•ˆè´Ÿè½½è®°å½•ï¼Œå¯¹åº”ä¸º <code>NFCNDEFPayload</code></p><p><strong>NFCNDEFPayloadè§£é‡Š</strong></p><p>ä¸€æ¡æœ‰æ•ˆè´Ÿè½½è®°å½•ï¼Œç”¨ä»¥ä¸‹ç»“æ„æ¥æ ‡è¯†å†…å®¹å’Œè®°å½•å¤§å°</p><p><img src=https://w-md.imzsy.design/image-20210323202233044.png alt=image-20210323202233044></p><h4 id=tnf-typenameformat-å­—æ®µ><a href=#tnf-typenameformat-å­—æ®µ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>TNF: typeNameFormat å­—æ®µ</h4><p>ä¸€æ¡NDEFè®°å½•çš„ç±»å‹åç§°æ˜¯ä¸€ä¸ª3ä¸ªä½çš„æ•°å€¼ï¼Œç”¨æ¥æè¿°è¿™æ¡è®°å½•çš„ç±»å‹ï¼Œå¹¶ä¸”å¯ä»¥ç”¨æ¥è®¾ç½®å¯¹è¯¥è®°å½•ä¸­å…¶å®ƒçš„ç»“æ„å’Œå†…å®¹çš„æœŸæœ›</p><p>ç®€å•çš„è¯´å°±æ˜¯è¿™3ä¸ªä½ä¸ä»…å¯ä»¥è¡¨ç¤ºè¯¥æ¡è®°å½•çš„ç±»å‹ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå†³å®šäº†è¯¥æ¡è®°å½•æ¥ä¸‹æ¥çš„æ•°æ®ç»“æ„ã€‚</p><p>å¯èƒ½çš„è®°å½•åç§°å¦‚ä¸‹è¡¨ï¼š</p><div class=highlight><pre class=chroma><code class=language-swift data-lang=swift> <span class=kd>public</span> <span class=kd>enum</span> <span class=nc>NFCTypeNameFormat</span> <span class=p>:</span> <span class=nb>UInt8</span> <span class=p>{</span>
   
     <span class=c1>/// è®°å½•æ²¡æœ‰ç±»å‹ã€idæˆ–æœ‰æ•ˆpayloadï¼Œä¸€èˆ¬ç”¨äºæ–°æ ¼å¼åŒ–çš„ NDEF å¡ä¸Š</span>
     <span class=p>@</span><span class=n>available</span><span class=p>(</span><span class=n>iOS</span> <span class=mf>11.0</span><span class=p>,</span> <span class=o>*</span><span class=p>)</span>
     <span class=k>case</span> <span class=n>empty</span> <span class=p>=</span> <span class=mi>0</span> 
     <span class=c1>/// Well-Known Record è¡¨æ˜è®°å½•ç±»å‹å­—æ®µä½¿ç”¨RTDç±»å‹åç§°æ ¼å¼.è¿™ç§ç±»å‹åç§°ç”¨ä¸€ä¸ªRecord Type Definition (RTD)æ¥å­˜å‚¨ä»»ä½•æŒ‡å®šçš„ç±»å‹ï¼Œä¾‹å¦‚ï¼šå­˜å‚¨RTDæ–‡æœ¬ã€RTD URIsç­‰ç­‰</span>
     <span class=p>@</span><span class=n>available</span><span class=p>(</span><span class=n>iOS</span> <span class=mf>11.0</span><span class=p>,</span> <span class=o>*</span><span class=p>)</span>
     <span class=k>case</span> <span class=n>nfcWellKnown</span> <span class=p>=</span> <span class=mi>1</span>
     <span class=c1>/// è¡¨æ˜payloadæ˜¯è¿™æ¡NDEFè®°å½•åˆ†å—çš„ä¸­é—´æˆ–è€…æœ€åä¸€å—</span>
     <span class=p>@</span><span class=n>available</span><span class=p>(</span><span class=n>iOS</span> <span class=mf>11.0</span><span class=p>,</span> <span class=o>*</span><span class=p>)</span>
     <span class=k>case</span> <span class=n>media</span> <span class=p>=</span> <span class=mi>2</span>
     <span class=c1>/// è¡¨æ˜è¿™æ¡è®°å½•çš„ç±»å‹å­—æ®µä¸€å®šåŒ…å«ä¸€ä¸ªURIå­—æ®µ</span>
     <span class=p>@</span><span class=n>available</span><span class=p>(</span><span class=n>iOS</span> <span class=mf>11.0</span><span class=p>,</span> <span class=o>*</span><span class=p>)</span>
     <span class=k>case</span> <span class=n>absoluteURI</span> <span class=p>=</span> <span class=mi>3</span>
     <span class=c1>/// è¡¨æ˜è¿™æ¡è®°å½•çš„ç±»å‹å­—æ®µåŒ…å«ä¸€ä¸ªRTDæ ¼å¼çš„å¤–éƒ¨å­—æ®µ</span>
     <span class=p>@</span><span class=n>available</span><span class=p>(</span><span class=n>iOS</span> <span class=mf>11.0</span><span class=p>,</span> <span class=o>*</span><span class=p>)</span>
     <span class=k>case</span> <span class=n>nfcExternal</span> <span class=p>=</span> <span class=mi>4</span>
     <span class=c1>/// è¡¨æ˜payloadçš„ç±»å‹æœªçŸ¥</span>
     <span class=p>@</span><span class=n>available</span><span class=p>(</span><span class=n>iOS</span> <span class=mf>11.0</span><span class=p>,</span> <span class=o>*</span><span class=p>)</span>
     <span class=k>case</span> <span class=n>unknown</span> <span class=p>=</span> <span class=mi>5</span>
     <span class=c1>/// æœªå‘ç”Ÿå˜åŒ–çš„è®°å½•ç±»å‹ï¼Œé‡ŠåŒMIME Media Record</span>
     <span class=p>@</span><span class=n>available</span><span class=p>(</span><span class=n>iOS</span> <span class=mf>11.0</span><span class=p>,</span> <span class=o>*</span><span class=p>)</span>
     <span class=k>case</span> <span class=n>unchanged</span> <span class=p>=</span> <span class=mi>6</span>
 <span class=p>}</span>
</code></pre></div><h3 id=ios-demo><a href=#ios-demo class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>iOS-Demo</h3><h4 id=åŸºäº-ndef-æ ¼å¼çš„è¯»å†™><a href=#åŸºäº-ndef-æ ¼å¼çš„è¯»å†™ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>åŸºäº NDEF æ ¼å¼çš„è¯»å†™</h4><ul><li><p>åˆå§‹åŒ– <code>NFCNDEFReaderSession</code></p><div class=highlight><pre class=chroma><code class=language-swift data-lang=swift>   <span class=k>guard</span> <span class=n>NFCNDEFReaderSession</span><span class=p>.</span><span class=n>readingAvailable</span> <span class=k>else</span> <span class=p>{</span>
       <span class=n>completion</span><span class=p>?(.</span><span class=n>failure</span><span class=p>(</span><span class=n>NFCError</span><span class=p>.</span><span class=n>unavailable</span><span class=p>))</span>
       <span class=bp>print</span><span class=p>(</span><span class=s>&#34;NFC is not available on this device&#34;</span><span class=p>)</span>
       <span class=k>return</span>
   <span class=p>}</span>
     
   <span class=n>shared</span><span class=p>.</span><span class=n>session</span> <span class=p>=</span> <span class=n>NFCNDEFReaderSession</span><span class=p>(</span><span class=n>delegate</span><span class=p>:</span> <span class=n>shared</span><span class=p>.</span><span class=kc>self</span><span class=p>,</span> <span class=n>queue</span><span class=p>:</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>invalidateAfterFirstRead</span><span class=p>:</span> <span class=kc>false</span><span class=p>)</span>
   <span class=n>shared</span><span class=p>.</span><span class=n>session</span><span class=p>?.</span><span class=n>alertMessage</span> <span class=p>=</span> <span class=n>action</span><span class=p>.</span><span class=n>alertMessage</span>
   <span class=n>shared</span><span class=p>.</span><span class=n>session</span><span class=p>?.</span><span class=n>begin</span><span class=p>()</span>
</code></pre></div></li><li><p>å®ç°<code>NFCNDEFReaderSessionDelegate</code>æ–¹æ³•</p><div class=highlight><pre class=chroma><code class=language-swift data-lang=swift>   <span class=kd>func</span> <span class=nf>readerSession</span><span class=p>(</span><span class=kc>_</span> <span class=n>session</span><span class=p>:</span> <span class=n>NFCNDEFReaderSession</span><span class=p>,</span> <span class=n>didInvalidateWithError</span> <span class=n>error</span><span class=p>:</span> <span class=n>Error</span><span class=p>)</span> <span class=p>{</span>
       <span class=k>if</span> <span class=kd>let</span> <span class=nv>error</span> <span class=p>=</span> <span class=n>error</span> <span class=k>as</span><span class=p>?</span> <span class=n>NFCReaderError</span><span class=p>,</span>
          <span class=n>error</span><span class=p>.</span><span class=n>code</span> <span class=o>!=</span> <span class=p>.</span><span class=n>readerSessionInvalidationErrorFirstNDEFTagRead</span> <span class=o>&amp;&amp;</span>
           <span class=n>error</span><span class=p>.</span><span class=n>code</span> <span class=o>!=</span> <span class=p>.</span><span class=n>readerSessionInvalidationErrorUserCanceled</span> <span class=p>{</span>
           <span class=n>completion</span><span class=p>?(.</span><span class=n>failure</span><span class=p>(</span><span class=n>NFCError</span><span class=p>.</span><span class=n>invalidated</span><span class=p>(</span><span class=n>message</span><span class=p>:</span> <span class=n>error</span><span class=p>.</span><span class=n>localizedDescription</span><span class=p>)))</span>
       <span class=p>}</span>
     
       <span class=kc>self</span><span class=p>.</span><span class=n>session</span> <span class=p>=</span> <span class=kc>nil</span>
       <span class=n>completion</span> <span class=p>=</span> <span class=kc>nil</span>
   <span class=p>}</span>
     
   <span class=kd>func</span> <span class=nf>readerSession</span><span class=p>(</span><span class=kc>_</span> <span class=n>session</span><span class=p>:</span> <span class=n>NFCNDEFReaderSession</span><span class=p>,</span> <span class=n>didDetect</span> <span class=n>tags</span><span class=p>:</span> <span class=p>[</span><span class=n>NFCNDEFTag</span><span class=p>])</span> <span class=p>{</span>
       <span class=k>guard</span> <span class=kd>let</span> <span class=nv>tag</span> <span class=p>=</span> <span class=n>tags</span><span class=p>.</span><span class=bp>first</span><span class=p>,</span> <span class=n>tags</span><span class=p>.</span><span class=bp>count</span> <span class=p>==</span> <span class=mi>1</span> <span class=k>else</span> <span class=p>{</span>
           <span class=n>session</span><span class=p>.</span><span class=n>alertMessage</span> <span class=p>=</span> <span class=s>&#34;There are too many tags present. Remove all and then try again.&#34;</span>
           <span class=n>DispatchQueue</span><span class=p>.</span><span class=n>global</span><span class=p>().</span><span class=n>asyncAfter</span><span class=p>(</span><span class=n>deadline</span><span class=p>:</span> <span class=p>.</span><span class=n>now</span><span class=p>()</span> <span class=o>+</span> <span class=p>.</span><span class=n>milliseconds</span><span class=p>(</span><span class=mi>500</span><span class=p>))</span> <span class=p>{</span>
               <span class=n>session</span><span class=p>.</span><span class=n>restartPolling</span><span class=p>()</span>
           <span class=p>}</span>
           <span class=k>return</span>
       <span class=p>}</span>
     
       <span class=n>session</span><span class=p>.</span><span class=n>connect</span><span class=p>(</span><span class=n>to</span><span class=p>:</span> <span class=n>tag</span><span class=p>)</span> <span class=p>{</span> <span class=n>error</span> <span class=k>in</span>
           <span class=k>if</span> <span class=kd>let</span> <span class=nv>error</span> <span class=p>=</span> <span class=n>error</span> <span class=p>{</span>
               <span class=kc>self</span><span class=p>.</span><span class=n>handleError</span><span class=p>(</span><span class=n>error</span><span class=p>)</span>
               <span class=k>return</span>
           <span class=p>}</span>
     
           <span class=n>tag</span><span class=p>.</span><span class=n>queryNDEFStatus</span> <span class=p>{</span> <span class=p>(</span><span class=n>status</span><span class=p>,</span> <span class=kc>_</span><span class=p>,</span> <span class=n>error</span><span class=p>)</span> <span class=k>in</span>
               <span class=k>if</span> <span class=kd>let</span> <span class=nv>error</span> <span class=p>=</span> <span class=n>error</span> <span class=p>{</span>
                   <span class=kc>self</span><span class=p>.</span><span class=n>handleError</span><span class=p>(</span><span class=n>error</span><span class=p>)</span>
                   <span class=k>return</span>
               <span class=p>}</span>
               <span class=c1>// Process Tag</span>
           <span class=p>}</span>
       <span class=p>}</span>
   <span class=p>}</span>
     
   <span class=kd>func</span> <span class=nf>readerSession</span><span class=p>(</span><span class=kc>_</span> <span class=n>session</span><span class=p>:</span> <span class=n>NFCNDEFReaderSession</span><span class=p>,</span> <span class=n>didDetectNDEFs</span> <span class=n>messages</span><span class=p>:</span> <span class=p>[</span><span class=n>NFCNDEFMessage</span><span class=p>])</span> <span class=p>{</span>
     
   <span class=p>}</span>
</code></pre></div></li><li><p>è¯»å–</p><div class=highlight><pre class=chroma><code class=language-swift data-lang=swift>   <span class=kd>private</span> <span class=kd>func</span> <span class=nf>read</span><span class=p>(</span>
       <span class=n>tag</span><span class=p>:</span> <span class=n>NFCNDEFTag</span><span class=p>,</span>
       <span class=n>alertMessage</span><span class=p>:</span> <span class=nb>String</span> <span class=p>=</span> <span class=s>&#34;Tag Read&#34;</span><span class=p>,</span>
       <span class=n>readCompletion</span><span class=p>:</span> <span class=n>NFCReadingCompletion</span><span class=p>?</span> <span class=p>=</span> <span class=kc>nil</span>
   <span class=p>)</span> <span class=p>{</span>
       <span class=n>tag</span><span class=p>.</span><span class=n>readNDEF</span> <span class=p>{</span> <span class=n>message</span><span class=p>,</span> <span class=n>error</span> <span class=k>in</span>
           <span class=k>if</span> <span class=kd>let</span> <span class=nv>error</span> <span class=p>=</span> <span class=n>error</span> <span class=p>{</span>
               <span class=kc>self</span><span class=p>.</span><span class=n>handleError</span><span class=p>(</span><span class=n>error</span><span class=p>)</span>
               <span class=k>return</span>
           <span class=p>}</span>
     
           <span class=k>if</span> <span class=kd>let</span> <span class=nv>readCompletion</span> <span class=p>=</span> <span class=n>readCompletion</span><span class=p>,</span>
              <span class=kd>let</span> <span class=nv>message</span> <span class=p>=</span> <span class=n>message</span> <span class=p>{</span>
               <span class=n>readCompletion</span><span class=p>(.</span><span class=n>success</span><span class=p>(</span><span class=n>message</span><span class=p>))</span>
           <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=kd>let</span> <span class=nv>message</span> <span class=p>=</span> <span class=n>message</span><span class=p>,</span>
                     <span class=kd>let</span> <span class=nv>record</span> <span class=p>=</span> <span class=n>message</span><span class=p>.</span><span class=n>records</span><span class=p>.</span><span class=bp>first</span> <span class=p>{</span>
               <span class=kd>let</span> <span class=nv>payload</span> <span class=p>=</span> <span class=n>record</span><span class=p>.</span><span class=n>payload</span>
               <span class=n>printf</span><span class=p>(</span><span class=s>&#34;data: </span><span class=si>\(</span><span class=n>payload</span><span class=si>)</span><span class=s>&#34;</span><span class=p>)</span>
               <span class=kc>self</span><span class=p>.</span><span class=n>session</span><span class=p>?.</span><span class=n>alertMessage</span> <span class=p>=</span> <span class=s>&#34;Read tag data.&#34;</span>
               <span class=kc>self</span><span class=p>.</span><span class=n>session</span><span class=p>?.</span><span class=n>invalidate</span><span class=p>()</span>
           <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
               <span class=kc>self</span><span class=p>.</span><span class=n>session</span><span class=p>?.</span><span class=n>alertMessage</span> <span class=p>=</span> <span class=s>&#34;Could not decode tag data.&#34;</span>
               <span class=kc>self</span><span class=p>.</span><span class=n>session</span><span class=p>?.</span><span class=n>invalidate</span><span class=p>()</span>
           <span class=p>}</span>
       <span class=p>}</span>
   <span class=p>}</span>
</code></pre></div></li><li><p>å†™å…¥</p><div class=highlight><pre class=chroma><code class=language-swift data-lang=swift>   <span class=kd>private</span> <span class=kd>func</span> <span class=nf>write</span><span class=p>(</span><span class=n>tag</span><span class=p>:</span> <span class=n>NFCNDEFTag</span><span class=p>)</span> <span class=p>{</span>
         
       <span class=kd>let</span> <span class=nv>payload</span> <span class=p>=</span> <span class=n>NFCNDEFPayload</span><span class=p>(</span><span class=n>format</span><span class=p>:</span> <span class=p>.</span><span class=n>nfcWellKnown</span><span class=p>,</span>
                                    <span class=n>type</span><span class=p>:</span> <span class=nb>String</span><span class=p>(</span><span class=s>&#34;U&#34;</span><span class=p>).</span><span class=n>data</span><span class=p>(</span><span class=n>using</span><span class=p>:</span> <span class=p>.</span><span class=n>utf8</span><span class=p>)</span><span class=o>!</span><span class=p>,</span>
                                    <span class=n>identifier</span><span class=p>:</span> <span class=nb>String</span><span class=p>(</span><span class=s>&#34;12345678&#34;</span><span class=p>).</span><span class=n>data</span><span class=p>(</span><span class=n>using</span><span class=p>:</span> <span class=p>.</span><span class=n>utf8</span><span class=p>)</span><span class=o>!</span><span class=p>,</span>
                                    <span class=n>payload</span><span class=p>:</span> <span class=nb>String</span><span class=p>(</span><span class=s>&#34;content&#34;</span><span class=p>).</span><span class=n>data</span><span class=p>(</span><span class=n>using</span><span class=p>:</span> <span class=p>.</span><span class=n>utf8</span><span class=p>)</span><span class=o>!</span><span class=p>)</span>
     
       <span class=kd>let</span> <span class=nv>NDEFMessage</span> <span class=p>=</span> <span class=n>NFCNDEFMessage</span><span class=p>(</span><span class=n>records</span><span class=p>:</span> <span class=p>[</span><span class=n>payload</span><span class=p>])</span>
       
       <span class=n>tag</span><span class=p>.</span><span class=n>writeNDEF</span><span class=p>(</span><span class=n>NDEFMessage</span><span class=p>)</span> <span class=p>{</span> <span class=n>error</span> <span class=k>in</span>
           <span class=k>if</span> <span class=kd>let</span> <span class=nv>error</span> <span class=p>=</span> <span class=n>error</span> <span class=p>{</span>
               <span class=kc>self</span><span class=p>.</span><span class=n>handleError</span><span class=p>(</span><span class=n>error</span><span class=p>)</span>
               <span class=k>return</span>
           <span class=p>}</span>
           <span class=kc>self</span><span class=p>.</span><span class=n>session</span><span class=p>?.</span><span class=n>alertMessage</span> <span class=p>=</span> <span class=s>&#34;Write Successed!&#34;</span>
           <span class=kc>self</span><span class=p>.</span><span class=n>session</span><span class=p>?.</span><span class=n>invalidate</span><span class=p>()</span>
       <span class=p>}</span>
   <span class=p>}</span>
</code></pre></div></li></ul><blockquote><p>NDEF ä½¿ç”¨çš„æ˜¯ <strong>NDEFReadSession</strong>ï¼Œè€Œå…¶ä»–çš„æ ‡ç­¾æ ¼å¼ï¼Œä½¿ç”¨<strong>NFCTagReaderSession</strong></p></blockquote><h4 id=åŸºäº-iso14443-åè®®çš„è¯»å†™><a href=#åŸºäº-iso14443-åè®®çš„è¯»å†™ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>åŸºäº iso14443 åè®®çš„è¯»å†™</h4><p><code>iso14443</code>åè®®ä¸‹ï¼Œä»¥ä¸‹æ ¼å¼çš„æ ‡ç­¾ä¼šè¢«å‘ç°</p><ul><li>Type Aã€Type B</li><li>MiFare</li><li>NFCISO7816</li></ul><h5 id=mifaretagæŒ‡ä»¤äº¤äº’><a href=#mifaretagæŒ‡ä»¤äº¤äº’ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>MifareTagæŒ‡ä»¤äº¤äº’</h5><p>åœ¨ iOS13 ä¹‹åï¼Œå¯¹äº <code>MifareTag</code> çš„æ ‡ç­¾ï¼Œå¯ä»¥é€šè¿‡<code>sendMiFareCommand</code>æˆ–<code>sendMiFareISO7816Command</code>å¯¹æ ‡ç­¾çš„å†…å­˜è¿›è¡Œè¯»å†™</p><p><strong>æ“ä½œæŒ‡ä»¤</strong></p><p>è¯»ï¼š0x30</p><p>å†™ï¼š0xA2</p><p>éªŒè¯ï¼š0x1B</p><p>ç¤ºä¾‹ï¼šè¯»å– D0 å†…å­˜å—çš„æ•°æ®</p><div class=highlight><pre class=chroma><code class=language-swift data-lang=swift> <span class=kd>let</span> <span class=nv>readBlockCommand</span><span class=p>:</span> <span class=nb>UInt8</span> <span class=p>=</span> <span class=mh>0x30</span>
   
 <span class=kd>let</span> <span class=nv>dataOffset</span><span class=p>:</span> <span class=nb>UInt8</span> <span class=p>=</span> <span class=mh>0xD0</span>
   
 <span class=kd>let</span> <span class=nv>readCommand</span> <span class=p>=</span> <span class=n>Data</span><span class=p>([</span><span class=n>readBlockCommand</span><span class=p>,</span> <span class=n>dataOffset</span><span class=p>])</span> 
   
 <span class=n>tag</span><span class=p>.</span><span class=n>sendMiFareCommand</span><span class=p>(</span><span class=n>commandPacket</span><span class=p>:</span> <span class=n>readCommand</span><span class=p>)</span> <span class=p>{</span> <span class=p>(</span><span class=n>response</span><span class=p>:</span> <span class=n>Data</span><span class=p>,</span> <span class=n>optionalError</span><span class=p>:</span> <span class=n>Error</span><span class=p>?)</span> <span class=k>in</span>
     <span class=k>guard</span> <span class=kd>let</span> <span class=nv>error</span> <span class=p>=</span> <span class=n>optionalError</span> <span class=k>else</span> <span class=p>{</span>
         <span class=n>completionHandler</span><span class=p>(</span><span class=n>response</span><span class=p>)</span>
         <span class=k>return</span>
     <span class=p>}</span>
   
     <span class=kc>self</span><span class=p>.</span><span class=n>readerSession</span><span class=p>?.</span><span class=n>invalidate</span><span class=p>(</span><span class=n>errorMessage</span><span class=p>:</span> <span class=s>&#34;Read tag error: </span><span class=si>\(</span><span class=n>error</span><span class=p>.</span><span class=n>localizedDescription</span><span class=si>)</span><span class=s>. Please try again.&#34;</span><span class=p>)</span>
 <span class=p>}</span>
</code></pre></div><blockquote><p>é’ˆå¯¹äºå—å¯†ç ä¿æŠ¤çš„æ ‡ç­¾ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡éªŒè¯æŒ‡ä»¤ï¼Œå°†å¯†ç å‘é€ç»™æ ‡ç­¾è¿›è¡ŒéªŒè¯</p><p>å½“å¯†ç éªŒè¯æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡è¯»å†™æ“ä½œï¼Œè®¿é—®å†…å­˜å—</p></blockquote><h4 id=å”¤é†’-app><a href=#å”¤é†’-app class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>å”¤é†’ App</h4><p>åŸç†ï¼šæ‰«æ NFC æ ‡ç­¾æ‰“å¼€å¯¹åº”çš„ App å®é™…ä¸Šæ˜¯è¯»å– NFC æ ‡ç­¾æ•°æ®åŒºçš„ URLï¼Œç„¶åæ‰“å¼€è¯¥ URL ç»‘å®šçš„ Appï¼Œç±»ä¼¼ <strong>Universal Link</strong></p><p>æ•°æ®æ ¼å¼ä¸ºï¼š</p><div class=table-container><table><thead><tr><th style=text-align:left>iOS å”¤é†’ NDEF</th><th style=text-align:left>ç¤ºä¾‹</th><th style=text-align:left>æè¿°</th></tr></thead><tbody><tr><td style=text-align:left>TNF</td><td style=text-align:left>0x01</td><td style=text-align:left>nfcWellKnown</td></tr><tr><td style=text-align:left>TYPE</td><td style=text-align:left>U</td><td style=text-align:left>RTD_URI</td></tr><tr><td style=text-align:left>ID</td><td style=text-align:left>NULL</td><td style=text-align:left>éå¿…è¦ä¸å¡«å‡å°‘å­˜å‚¨å ç”¨</td></tr><tr><td style=text-align:left>PAYLOAD</td><td style=text-align:left>0x04 + åŸŸå</td><td style=text-align:left>1å­—èŠ‚urlå‰ç¼€ã€Œ<a href=https://xn--26j/ target=_blank rel=noopener>https://ã€</a> + urlå†…å®¹æ•°æ®</td></tr></tbody></table></div><p>è¿™é‡Œä»¥ NDEF æ ¼å¼å®Œæˆ Demo</p><p><strong>è¿‡ç¨‹ï¼š</strong></p><ol><li><p>åœ¨å…³è”çš„åŸŸåä¸‹æ·»åŠ <code>apple-app-site-association</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸ºï¼š</p><div class=highlight><pre class=chroma><code class=language-json data-lang=json> <span class=p>{</span>
     <span class=nt>&#34;applinks&#34;</span><span class=p>:</span> <span class=p>{</span>
         <span class=nt>&#34;apps&#34;</span><span class=p>:</span> <span class=p>[],</span>
         <span class=nt>&#34;details&#34;</span><span class=p>:</span> <span class=p>[</span>
             <span class=p>{</span>
                 <span class=nt>&#34;appID&#34;</span><span class=p>:</span> <span class=s2>&#34;DevelopmentTeamID.BundleID&#34;</span><span class=p>,</span>
                 <span class=nt>&#34;paths&#34;</span><span class=p>:</span> <span class=p>[</span> <span class=s2>&#34;*&#34;</span> <span class=p>]</span>
             <span class=p>}</span>
         <span class=p>]</span>
     <span class=p>}</span>
 <span class=p>}</span>
</code></pre></div><p><code>DevelopmentTeamID</code>å¯åœ¨Appleå¼€å‘è€…ä¸­å¿ƒçš„æ‰¾åˆ°ï¼Œ<code>BundleID</code>ä¸º App çš„å”¯ä¸€æ ‡è¯†</p><blockquote><p>å¦‚æœ App æœ‰å¯¹åº”çš„ App Clipsï¼Œé‚£ä¹ˆåœ¨<code>apple-app-site-association</code>æ–‡ä»¶å¯åŒæ—¶ä¸ºå…¶è¿›è¡Œé…ç½®</p><p>å¦‚ï¼š</p><div class=highlight><pre class=chroma><code class=language-json data-lang=json>  <span class=s2>&#34;appclips&#34;</span><span class=err>:</span> <span class=p>{</span>
      <span class=nt>&#34;apps&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;DevelopmentTeamID.BundleID&#34;</span><span class=p>]</span>
  <span class=p>}</span>
</code></pre></div></blockquote></li><li><p>é€‰ä¸­ç›¸åº”çš„ Targetï¼Œåœ¨<code>Signing & Capabilities</code> é€‰é¡¹å¡ï¼Œæ·»åŠ <code>Associated Domains</code>ï¼Œå¡«å…¥å¯¹åº”çš„åŸŸå</p></li><li><p>æ·»åŠ å›è°ƒæ–¹æ³•ï¼Œå¦‚æœä¸å­˜åœ¨ <code>SceneDelegate</code>ï¼Œé‚£ä¹ˆåœ¨ <code>AppDelegate</code> ä¸­æ·»åŠ ä»¥ä¸‹æ–¹æ³•</p><div class=highlight><pre class=chroma><code class=language-swift data-lang=swift> <span class=kd>func</span> <span class=nf>application</span><span class=p>(</span><span class=kc>_</span> <span class=n>application</span><span class=p>:</span> <span class=n>UIApplication</span><span class=p>,</span> <span class=k>continue</span> <span class=n>userActivity</span><span class=p>:</span> <span class=n>NSUserActivity</span><span class=p>,</span> <span class=n>restorationHandler</span><span class=p>:</span> <span class=p>@</span><span class=n>escaping</span> <span class=p>([</span><span class=n>UIUserActivityRestoring</span><span class=p>]?)</span> <span class=p>-&gt;</span> <span class=nb>Void</span><span class=p>)</span> <span class=p>-&gt;</span> <span class=nb>Bool</span> <span class=p>{</span>
     <span class=k>guard</span> <span class=n>userActivity</span><span class=p>.</span><span class=n>activityType</span> <span class=p>==</span> <span class=n>NSUserActivityTypeBrowsingWeb</span> <span class=k>else</span> <span class=p>{</span>
         <span class=k>return</span> <span class=kc>false</span>
     <span class=p>}</span>
      
     <span class=c1>// Confirm that the NSUserActivity object contains a valid NDEF message.</span>
     <span class=kd>let</span> <span class=nv>ndefMessage</span> <span class=p>=</span> <span class=n>userActivity</span><span class=p>.</span><span class=n>ndefMessagePayload</span>
     <span class=k>guard</span> <span class=n>ndefMessage</span><span class=p>.</span><span class=n>records</span><span class=p>.</span><span class=bp>count</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>,</span>
         <span class=n>ndefMessage</span><span class=p>.</span><span class=n>records</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>typeNameFormat</span> <span class=o>!=</span> <span class=p>.</span><span class=n>empty</span> <span class=k>else</span> <span class=p>{</span>
             <span class=k>return</span> <span class=kc>false</span>
     <span class=p>}</span>
      
     <span class=c1>// Send the message to `XXXX` for processing.</span>
     <span class=bp>print</span><span class=p>(</span><span class=n>ndefMessage</span><span class=p>)</span>
      
     <span class=k>return</span> <span class=kc>true</span>
 <span class=p>}</span>
</code></pre></div><p>å¦‚æœä½¿ç”¨ <code>SceneDelegate</code>ï¼Œé‚£ä¹ˆéœ€è¦å®ç°<code>func scene(_ scene: UIScene, continue userActivity: NSUserActivity)</code>æ–¹æ³•</p></li><li><p>åˆ›å»º URL çš„ NFC æ ‡ç­¾ï¼Œè¿™é‡Œä»¥ NDEF æ ¼å¼ä¸ºä¾‹</p><div class=highlight><pre class=chroma><code class=language-swift data-lang=swift> <span class=kd>private</span> <span class=kd>func</span> <span class=nf>write</span><span class=p>(</span><span class=n>tag</span><span class=p>:</span> <span class=n>NFCNDEFTag</span><span class=p>)</span> <span class=p>{</span>
      
     <span class=kd>let</span> <span class=nv>backgroudPayLoad</span> <span class=p>=</span> <span class=n>NFCNDEFPayload</span><span class=p>.</span><span class=n>wellKnownTypeURIPayload</span><span class=p>(</span><span class=n>string</span><span class=p>:</span> <span class=nb>String</span><span class=p>(</span><span class=s>&#34;åŸŸå&#34;</span><span class=p>))</span>
      
     <span class=kd>let</span> <span class=nv>NDEFMessage</span> <span class=p>=</span> <span class=n>NFCNDEFMessage</span><span class=p>(</span><span class=n>records</span><span class=p>:</span> <span class=p>[</span><span class=n>backgroudPayLoad</span><span class=p>!])</span>
      
     <span class=n>tag</span> <span class=p>.</span><span class=n>writeNDEF</span><span class=p>(</span><span class=n>NDEFMessage</span><span class=p>)</span> <span class=p>{</span> <span class=n>error</span> <span class=k>in</span>
         <span class=k>if</span> <span class=kd>let</span> <span class=nv>error</span> <span class=p>=</span> <span class=n>error</span> <span class=p>{</span>
             <span class=kc>self</span><span class=p>.</span><span class=n>handleError</span><span class=p>(</span><span class=n>error</span><span class=p>)</span>
             <span class=k>return</span>
         <span class=p>}</span>
         <span class=kc>self</span><span class=p>.</span><span class=n>session</span><span class=p>?.</span><span class=n>alertMessage</span> <span class=p>=</span> <span class=s>&#34;Write Successed!&#34;</span>
         <span class=kc>self</span><span class=p>.</span><span class=n>session</span><span class=p>?.</span><span class=n>invalidate</span><span class=p>()</span>
     <span class=p>}</span>
 <span class=p>}</span>
</code></pre></div></li></ol><h5 id=æµ‹è¯•æ•ˆæœ><a href=#æµ‹è¯•æ•ˆæœ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>æµ‹è¯•æ•ˆæœ</h5><p>ç°åœ¨ï¼Œè½½æœ‰ URL çš„ NFC æ ‡ç­¾å·²ç»å‡†å¤‡å¥½äº†ï¼Œå¹¶ä¸”å¯¹åº” URL çš„ App ä¹Ÿå·²ç»å‡†å¤‡å®Œæ¯•ï¼Œå¯ä»¥è¿›è¡Œæµ‹è¯•</p><p><img src=https://w-md.imzsy.design/image-20210304150620691.png alt=image-20210304150620691></p><p>å½“æˆ‘ä»¬çš„ App æ²¡æœ‰è¢«å¯åŠ¨ï¼Œæˆ–åœ¨å‰å°æ—¶ï¼Œæ‰‹æœºè¯†åˆ«åˆ° NFC ä¿¡æ¯</p><ol><li>é¦–å…ˆï¼Œä¼šæ˜¾ç¤ºé€šçŸ¥</li><li>ç‚¹å‡»é€šçŸ¥ï¼Œä¼šæ‰“å¼€ç›¸åº”çš„ App</li><li>åœ¨å›è°ƒä¸­ï¼Œå¯ä»¥çœ‹åˆ°å†…å®¹è¢«è¾“å‡º</li></ol><h3 id=æ³¨æ„ç‚¹><a href=#æ³¨æ„ç‚¹ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>æ³¨æ„ç‚¹</h3><h4 id=æ”¯æŒç³»ç»Ÿæ‰«æçš„æ ‡ç­¾><a href=#æ”¯æŒç³»ç»Ÿæ‰«æçš„æ ‡ç­¾ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>æ”¯æŒç³»ç»Ÿæ‰«æçš„æ ‡ç­¾</h4><p>è®¾å¤‡åœ¨åå°æ ‡ç­¾è¯»å–æ¨¡å¼ä¸‹æ‰«æNFCæ ‡ç­¾åï¼Œç³»ç»Ÿå°†é€šè¿‡æŸ¥æ‰¾å…·æœ‰ä»¥ä¸‹å±æ€§å€¼çš„<code>NFCNDEFPayLoad</code>å¯¹è±¡æ¥æ£€æŸ¥æ ‡ç­¾çš„NDEFæ¶ˆæ¯ä¸­çš„URIè®°å½•ï¼š</p><ul><li><p><code>ypeNameFormat</code>ç­‰äº<code>NFCTypeNameFormatNFCWellKnown</code></p></li><li><p><code>type</code>ç­‰äº<strong>U</strong></p><p>å¦‚æœNDEFæ¶ˆæ¯åŒ…å«å¤šä¸ªURIè®°å½•ï¼Œç³»ç»Ÿå°†ä½¿ç”¨ç¬¬ä¸€ä¸ªè®°å½•ã€‚</p><p>URIè®°å½•å¿…é¡»åŒ…å«é€šç”¨é“¾æ¥æˆ–æ”¯æŒçš„URLæ–¹æ¡ˆã€‚</p><h4 id=url-schemes><a href=#url-schemes class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>URL Schemes</h4><p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½ä½¿ç”¨ <code>Custom URL Scheme</code>ï¼Œè€Œåªæ”¯æŒä»¥ä¸‹çš„ <code>URL Schems</code></p><div class=table-container><table><thead><tr><th style=text-align:left>URL Scheme</th><th style=text-align:left>Example</th></tr></thead><tbody><tr><td style=text-align:left>Website URL (HTTP/HTTPS)</td><td style=text-align:left><a href=https://www.example.com target=_blank rel=noopener>https://www.example.com</a></td></tr><tr><td style=text-align:left>Email</td><td style=text-align:left><a href=mailto:mailto:user@example.com>mailto:user@example.com</a></td></tr><tr><td style=text-align:left>SMS</td><td style=text-align:left>sms:+14085551212</td></tr><tr><td style=text-align:left>Telephone</td><td style=text-align:left>tel:+14085551212</td></tr><tr><td style=text-align:left>FaceTime</td><td style=text-align:left>facetime://<a href=mailto:user@example.com>user@example.com</a></td></tr><tr><td style=text-align:left>FaceTime Audio</td><td style=text-align:left>facetime-audio://<a href=mailto:user@example.com>user@example.com</a></td></tr><tr><td style=text-align:left>Maps</td><td style=text-align:left>[http://maps.apple.com/?address=Apple%20Park,Cupertino,California](<a href="http://maps.apple.com/?address=Apple" target=_blank rel=noopener>http://maps.apple.com/?address=Apple</a> Park,Cupertino,California)</td></tr><tr><td style=text-align:left>HomeKit Accessory Setup</td><td style=text-align:left>X-HM://12345</td></tr></tbody></table></div><h3 id=å…¶ä»–><a href=#å…¶ä»– class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>å…¶ä»–</h3><blockquote><ol><li>è‹¹æœæ‰‹æœºä»iPhone6å¼€å§‹è£…æœ‰NFCç¡¬ä»¶ï¼Œä½†å¹¶æœªå¯¹ç¬¬ä¸‰æ–¹åº”ç”¨å¼€æ”¾ã€‚å› æ­¤iPhone6åŠiPhone6sä¸èƒ½è¯†åˆ«NFCæ ‡ç­¾ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ç³»ç»ŸNFCåŠŸèƒ½å¦‚ï¼šåˆ·åœ°é“ã€‚</li><li>è‹¹æœä»iOS11ç³»ç»Ÿå¼€å§‹å¼€æ”¾NFCè¯»å–åŠŸèƒ½ï¼ŒåŒæ—¶è¦æ±‚iPhone7åŠä»¥ä¸Šæœºå‹ã€‚ä¸æ»¡è¶³è¦æ±‚åˆ™æ— æ³•è¯»å–NFCæ ‡ç­¾</li><li>è‹¹æœåœ¨iOS13ç³»ç»Ÿå¼€æ”¾äº†æ ‡ç­¾å†™å…¥åŠŸèƒ½ï¼Œæƒ³è¦å‘æ ‡ç­¾å†…å†™å…¥æ•°æ®ï¼Œéœ€è¦å‡çº§ç³»ç»Ÿåˆ°iOS13ï¼ŒåŒæ ·åªèƒ½å†™å…¥DNEFæ ¼å¼æ•°æ®</li><li>å¦å¤–è‹¹æœåªå¼€æ”¾DNEFæ•°æ®æ ¼å¼çš„NFCæ ‡ç­¾è¯»å–ï¼Œå¦‚æœæ•°æ®æ ¼å¼ä¸æ»¡è¶³åˆ™æ— æ³•è¯»å–ã€‚èº«ä»½è¯ã€åœ°é“å¡ã€é“¶è¡Œå¡ã€å¤§éƒ¨åˆ†çš„å·¥å¡éƒ½ä¸æ˜¯DNEFæ ¼å¼ï¼Œå› æ­¤æ— æ³•è¯»å–ã€‚ï¼ˆç©ºæ ‡ç­¾åªèƒ½åœ¨iOS13ç³»ç»Ÿä¸‹æ‰å¯ä»¥è¯»å–åˆ°ï¼‰ï¼ˆNFCæ ‡ç­¾å¯ä»¥å»æ·˜å®è´­ä¹°ï¼Œä»·æ ¼å¾ˆä¾¿å®œ 9.9å…­ä¸ªè¿˜åŒ…é‚®ï¼‰</li><li>èº«ä»½è¯ã€åœ°é“å¡è™½ç„¶æ— æ³•è¯»å–åˆ°æ•°æ®ï¼Œä½†æ˜¯å¯ä»¥ç”¨è‹¹æœå®˜æ–¹APPâ€œå¿«æ·æŒ‡ä»¤â€è¿›è¡Œæ ‡è®°ï¼Œæ¥å®ç°ä¸€äº›æ–°é¢–ç©æ³•ï¼ˆéœ€è¦iPhoneXSä»¥ä¸Šæœºå‹ï¼‰</li><li>å…³äºåå°è¯»å–ï¼ŒiPhoneXSä»¥ä¸Šæœºå‹æ”¯æŒï¼Œå±å¹•ç‚¹äº®çŠ¶æ€ä¸‹ï¼ˆæ— éœ€è§£é”ï¼‰ï¼Œæ‰‹æœºå¯ä»¥è¯»å–ä¸€äº›ç‰¹å®šæ•°æ®æ ¼å¼çš„NFCæ ‡ç­¾ã€‚è¯†åˆ«åˆ°æ ‡ç­¾åï¼Œå¯ä»¥å®ç°æ‹¨æ‰“ç”µè¯ï¼Œå‘é€é‚®ä»¶ç­‰åŠŸèƒ½ï¼ˆéœ€è§£é”ï¼‰</li></ol></blockquote><h3 id=å‚è€ƒèµ„æ–™><a href=#å‚è€ƒèµ„æ–™ class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>å‚è€ƒèµ„æ–™ï¼š</h3><p><a href=https://developer.apple.com/documentation/corenfc target=_blank rel=noopener>CoreNFC</a></p><p><a href=https://www.bluebite.com/nfc/iphone-nfc-compatibility target=_blank rel=noopener>iPhone NFC Compatibility</a></p></li></ul></li></ul></div></article><div class=post-tags><a href=../tags/ios/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>iOS</a>
<a href=../tags/nfc/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>NFC</a></div></div></main><div id=back-to-top class=back-to-top><a href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon arrow-up"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a></div><footer id=footer class=footer><div class=footer-inner><div class=site-info>Â©&nbsp;2019â€“2021&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon footer-icon"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3.0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>&nbsp;Dev - jw</div></div></footer></div><script>'serviceWorker'in navigator&&window.addEventListener('load',function(){navigator.serviceWorker.register('/sw.js')})</script><script>typeof MathJax=='undefined'?(window.MathJax={loader:{load:['[tex]/mhchem']},options:{renderActions:{addMenu:[0,'','']}},tex:{inlineMath:{'[+]':[['$','$']]},tags:'ams',packages:{'[+]':['mhchem']}}},function(){var a=document.createElement('script');a.src='https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js',a.defer=!0,document.head.appendChild(a)}()):(MathJax.texReset(),MathJax.typeset())</script><script src=https://cdn.jsdelivr.net/npm/mermaid@8.8.3/dist/mermaid.min.js></script><script>let mermaidConfig={startOnLoad:!0,flowchart:{useMaxWidth:!1,htmlLabels:!0},theme:'default'};mermaid.initialize(mermaidConfig)</script><script src=https://cdn.jsdelivr.net/npm/medium-zoom@latest/dist/medium-zoom.min.js></script><script>mediumZoom(document.querySelectorAll('div.post-body img'),{background:'hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)'})</script><script src=https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js type=module defer></script></body></html>